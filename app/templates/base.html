{% extends 'bootstrap/base.html' %}

{% block title %}Flask{% endblock %}

{% block scripts %}
{{ super() }}

{{ moment.include_moment() }} <!-- carregando a biblioteca do Flask-Moment -->
{{ moment.locale('pt') }}

{% endblock %}

{%block head%}
{{ super() }}

<link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
<link rel="icon"  href="{{url_for('static', filename='favicon.ico')}}" type="image/x-icon">

{%endblock%}

{% block navbar %}

<div class="navbar-inverse" role="navigation">
    
    <div class="container">
        
        <div class="navbar-header">
            <button type="button" class="navbar-toggle"
            data-toggle="'collapse" data-target=".navbar-collapese">
                <span class="sr-only">Toggle navigation</span>
            </button>
            <a class="navbar-brand" href="/" >Flask</a> 
        </div>
        
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li><a href="/user/Yuri">Home</a></li>

                {% if current_user.is_authenticated %}
                <li><a href="{{ url_for('main.user', username=current_user.username) }}">
                    Profile	
				</a></li>
				{% endif %}

            </ul>
            <ul class="nav navbar-nav navbar-right">
                
                <!-- Resumo sobre current_user  
                    A variável current_user é definda pelo Flask-login e fica disponível para templates e views
                Essa variável contem o usuário logado no momento ou um objeto proxy para usuário anônimo ( não logado)
                a propriedade is_authenticated de current_user verifica a existência de usuário logado-->
                
                {% if current_user.is_authenticated %}
                <li><a href="{{ url_for('auth.logout') }}">Log Out</a></li>
                {% else %}
                <li><a href="{{ url_for('auth.login') }}">login</a></li>
                {% endif %}
            
            
            </ul>
        </div>
    </div>
</div>

{% endblock %}

{% block content %}

<div class="container">
    {% for mensagem in get_flashed_messages() %}
    <div class="alert alert-warning">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        {{ mensagem }}
    </div>
    {% endfor %}
    {%block page_content%} {%endblock%}
</div>

{% endblock %}